<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Credenciales - CETIS No. 45 "JosÃ© MarÃ­a Izazaga" Zihuatanejo</title>
    <link rel="stylesheet" href="styles-unified.css">
</head>
<body>
    <div class="generator-container">
        <header class="app-header">
            <!-- Header institucional con logos reales -->
            <div class="institutional-header">
                <div class="logo-container">
                    <img src="logos/sep-logo.png" alt="SEP" class="logo-sep" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="logo-placeholder logo-sep" style="display: none;"></div>
                </div>
                
                <div class="institution-info">
                    <img src="logos/cetis45-logo.png" alt="CETIS 45" class="logo-cetis-center" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="logo-cetis-center" style="display: none;"></div>
                    
                    <div class="institution-name">CETIS No. 45 "JosÃ© MarÃ­a Izazaga"</div>
                    <div class="institution-subtitle">Centro de Estudios TecnolÃ³gicos Industrial y de Servicios</div>
                    <div class="institution-location">Zihuatanejo, Guerrero</div>
                </div>
                
                <div class="logo-container">
                    <img src="logos/dgeti-logo.png" alt="DGETI" class="logo-dgeti" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="logo-placeholder logo-dgeti" style="display: none;"></div>
                </div>
            </div>
            
            <h1 class="app-title">ğŸ« Generador de Credenciales</h1>
            <a href="index.html" class="back-btn">â† Volver al Control de Asistencia</a>
        </header>

        <main class="main-content">
            <!-- Formulario -->
            <div class="form-section">
                <h2 class="section-title">ğŸ‘¤ Generar credencial individual</h2>
                
                <form id="studentForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="matricula">ğŸ“† MatrÃ­cula:</label>
                            <input type="text" id="matricula" class="form-input" placeholder="2508CETIS045ZIH1001" required>
                        </div>
                        <div class="form-group">
                            <label for="nombre">ğŸ‘¤ Nombre Completo:</label>
                            <input type="text" id="nombre" class="form-input" placeholder="Juan PÃ©rez GarcÃ­a" required>
                        </div>
                        <div class="form-group">
                            <label for="grado">ğŸ“ Grado:</label>
                            <select id="grado" class="form-input" required>
                                <option value="">Seleccionar...</option>
                                <option value="1">1Â°</option>
                                <option value="2">2Â°</option>
                                <option value="3">3Â°</option>
                                <option value="4">4Â°</option>
                                <option value="5">5Â°</option>
                                <option value="6">6Â°</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="grupo">ğŸ‘¥ Grupo:</label>
                            <select id="grupo" class="form-input" required>
                                <option value="">Seleccionar...</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="generate-btn">
                        âœ¨ Generar Credencial
                    </button>
                </form>
            </div>

            <!-- Vista previa de credencial -->
            <div id="credentialPreview" class="credential-preview hidden">
                <h3 class="section-title">ğŸ« Credencial Generada - TAMAÃ‘O REAL: 5.5 x 8.5 cm</h3>
                <p style="text-align: center; color: #8b1538; font-weight: 600; margin-bottom: 15px;">
                    ğŸ“ Vista previa en tamaÃ±o real | ğŸ›ï¸ Con logos oficiales SEP y DGETI<br>
                    <strong>CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo, Guerrero</strong>
                </p>
                
                <div class="credential" id="credential">
                    <div class="credential-header">
                        <div class="credential-logos">
                            <div class="credential-logo">SEP</div>
                            <div class="credential-institution">
                                <div class="credential-institution-name">CETIS No. 45 "JosÃ© MarÃ­a Izazaga"</div>
                                <div class="credential-institution-subtitle">
                                    Centro de Estudios TecnolÃ³gicos<br>
                                    Industrial y de Servicios<br>
                                    Zihuatanejo, Guerrero
                                </div>
                            </div>
                            <div class="credential-logo">DGETI</div>
                        </div>
                    </div>
                    
                    <div class="credential-body">
                        <div class="student-section">
                            <div class="photo-placeholder">ğŸ‘¤</div>
                            <div class="student-name" id="credentialName">NOMBRE DEL ESTUDIANTE</div>
                            <div class="student-details">
                                <div>
                                    <span><strong>MatrÃ­cula:</strong></span>
                                    <span id="credentialMatricula">-</span>
                                </div>
                                <div>
                                    <span><strong>Grado:</strong></span>
                                    <span id="credentialGrado">-</span>
                                </div>
                                <div>
                                    <span><strong>Grupo:</strong></span>
                                    <span id="credentialGrupo">-</span>
                                </div>
                                <div>
                                    <span><strong>Ciclo:</strong></span>
                                    <span>2025-2026</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="qr-section">
                            <img id="qrCodeImage" class="qr-code-img" src="" alt="CÃ³digo QR">
                            <div class="qr-label">CÃ“DIGO<br>ASISTENCIA</div>
                        </div>
                    </div>
                    
                    <div class="credential-footer">
                        CETIS 45 Zihuatanejo | Sistema de Control de Asistencia | #OrgullosamenteCETIS45
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="printCredential()">
                        ğŸ–¨ï¸ Imprimir Credencial
                    </button>
                    <button class="nav-btn" onclick="generatePDFCredential()">
                        ğŸ“„ Generar PDF
                    </button>
                </div>
            </div>

            <!-- SecciÃ³n de generaciÃ³n masiva -->
            <div class="bulk-section">
                <h3 class="section-title">ğŸ‘¥ GeneraciÃ³n Masiva de Credenciales - 9 POR HOJA</h3>
                <p style="margin-bottom: 15px; text-align: center; color: #8b1538; font-weight: 600;">
                    <strong>ğŸ¯ OPTIMIZACIÃ“N MÃXIMA:</strong> 9 credenciales por hoja A4 (3x3) | 98% aprovechamiento | 58% menos papel<br>
                    <strong>ğŸ« CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo, Guerrero</strong>
                </p>
                <p style="margin-bottom: 15px; text-align: center; color: #8b1538;">
                    <strong>Formato CSV:</strong> matricula,nombre,grado,grupo
                </p>
                
                <textarea id="csvInput" class="csv-textarea" placeholder="2508CETIS045ZIH1001,PÃ‰REZ GARCÃA JUAN CARLOS,1,A
2508CETIS045ZIH1002,LÃ“PEZ MARTÃNEZ MARÃA FERNANDA,1,A
2508CETIS045ZIH1003,GONZÃLEZ RODRÃGUEZ LUIS MIGUEL,1,B"></textarea>
                
                <div class="nav-buttons" style="margin-top: 15px;">
                    <button class="nav-btn" onclick="fillTestCSV()">
                        ğŸ§ª Llenar Datos de Prueba
                    </button>
                    <button class="nav-btn" onclick="generateBulkCredentials()">
                        ğŸš€ Generar 9 por Hoja
                    </button>
                    <button class="nav-btn" onclick="showZihuatanejoEfficiency()">
                        ğŸ“Š Ver Eficiencia
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer institucional -->
        <footer class="app-footer">
            <div class="footer-logos">
                <img src="logos/sep-logo.png" alt="SEP" class="footer-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="footer-logo" style="display: none;">SEP</div>
                
                <img src="logos/cetis45-logo.png" alt="CETIS 45" class="footer-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="footer-logo" style="display: none;">45</div>
                
                <img src="logos/dgeti-logo.png" alt="DGETI" class="footer-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="footer-logo" style="display: none;">DGETI</div>
            </div>
            <div class="footer-text">
                <strong>Generador de Credenciales Estudiantiles</strong><br>
                <strong>CETIS No. 45 "JosÃ© MarÃ­a Izazaga"</strong><br>
                Zihuatanejo, Guerrero - Ciclo Escolar 2025-2026<br>
                #OrgullosamenteCETIS45
            </div>
        </footer>
    </div>

    <script src="credenciales.js"></script>
    
    <script>
        // ConfiguraciÃ³n especÃ­fica para CETIS 45 Zihuatanejo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ« Generador de Credenciales - CETIS No. 45 "JosÃ© MarÃ­a Izazaga"');
            console.log('ğŸ“ Zihuatanejo, Guerrero - CSS Unificado implementado');
            
            // Personalizar mensajes para el plantel
            if (typeof showNotification !== 'undefined') {
                const originalShowNotification = showNotification;
                window.showNotification = function(message, type = 'success', duration = 4000) {
                    // Agregar identificaciÃ³n del plantel en mensajes importantes
                    if (type === 'success' && message.includes('Credencial')) {
                        message += '\nğŸ« CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo';
                    }
                    originalShowNotification(message, type, duration);
                };
            }
            
            // Configurar datos de ejemplo especÃ­ficos para Zihuatanejo
            window.fillTestCSV = function() {
                const csvTestData = `2508CETIS045ZIH1001,PÃ‰REZ GARCÃA JUAN CARLOS,1,A
2508CETIS045ZIH1002,LÃ“PEZ MARTÃNEZ MARÃA FERNANDA,1,A
2508CETIS045ZIH1003,GONZÃLEZ RODRÃGUEZ LUIS MIGUEL,1,B
2508CETIS045ZIH1004,HERNÃNDEZ LÃ“PEZ ANA SOFÃA,2,A
2508CETIS045ZIH1005,MARTÃNEZ SILVA CARLOS EDUARDO,2,B
2508CETIS045ZIH1006,RODRÃGUEZ TORRES LAURA PATRICIA,3,A
2508CETIS045ZIH1007,GARCÃA MORALES DIEGO ALEJANDRO,3,B
2508CETIS045ZIH1008,TORRES HERRERA VALERIA NICOLE,1,C
2508CETIS045ZIH1009,MORALES JIMÃ‰NEZ FERNANDO DANIEL,2,C
2508CETIS045ZIH1010,SILVA RAMÃREZ ANDREA PAOLA,3,C
2508CETIS045ZIH1011,RAMÃREZ VÃZQUEZ MIGUEL ÃNGEL,1,D
2508CETIS045ZIH1012,VÃZQUEZ CASTRO SOFIA ISABELLA,2,D`;

                const csvInput = document.getElementById('csvInput');
                if (csvInput) {
                    csvInput.value = csvTestData;
                    console.log('ğŸ“‹ CSV de prueba llenado con 12 estudiantes de Zihuatanejo');
                    if (typeof showNotification === 'function') {
                        showNotification('ğŸ“‹ CSV llenado con 12 estudiantes de prueba\nğŸ¯ CETIS No. 45 "JosÃ© MarÃ­a Izazaga"\nğŸ“ Zihuatanejo, Guerrero\nğŸ“Š Resultado: 2 hojas A4 con 9 credenciales cada una', 'success');
                    }
                    
                    // Highlight del textarea
                    csvInput.style.background = '#d4edda';
                    csvInput.style.border = '3px solid #28a745';
                    
                    setTimeout(() => {
                        csvInput.style.background = '';
                        csvInput.style.border = '';
                    }, 3000);
                    
                    // Scroll hacia el textarea
                    csvInput.scrollIntoView({ behavior: 'smooth' });
                    
                    return true;
                } else {
                    console.log('âŒ No se encontrÃ³ el textarea CSV');
                    if (typeof showNotification === 'function') {
                        showNotification('âŒ No se encontrÃ³ el Ã¡rea de texto CSV\nğŸ’¡ Esta funciÃ³n debe ejecutarse en credenciales.html', 'error');
                    }
                    return false;
                }
            };
            
            console.log('âœ… ConfiguraciÃ³n especÃ­fica de Zihuatanejo aplicada');
        });
        
        // FunciÃ³n personalizada para mostrar informaciÃ³n de eficiencia
        window.showZihuatanejoEfficiency = function() {
            const comparisonText = `ğŸ“Š COMPARATIVA DE EFICIENCIA 
ğŸ« CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo, Guerrero

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CaracterÃ­stica      â”‚ Anterior â”‚ Optimizado   â”‚ Mejora   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Credenciales/hoja   â”‚    4     â”‚      9       â”‚  +125%   â”‚
â”‚ Aprovechamiento     â”‚   60%    â”‚     98%      â”‚   +38%   â”‚
â”‚ TamaÃ±o credencial   â”‚ 8.5x5.5  â”‚   6.0x8.2    â”‚Optimizadoâ”‚
â”‚ Hojas para 36 est.  â”‚    9     â”‚      4       â”‚   -5     â”‚
â”‚ Desperdicio papel   â”‚   40%    â”‚      2%      â”‚   -38%   â”‚
â”‚ Calidad QR          â”‚ Regular  â”‚   Premium    â”‚   +50%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° AHORRO ECONÃ“MICO PARA CETIS 45 ZIHUATANEJO:
- 36 estudiantes: 5 hojas menos (56% ahorro)
- 100 estudiantes: 14 hojas menos (58% ahorro)
- 300 estudiantes: 42 hojas menos (58% ahorro)

ğŸŒ± BENEFICIO AMBIENTAL:
- ReducciÃ³n 58% en uso de papel
- Menor impacto de carbono
- GestiÃ³n sustentable de recursos

ğŸ« CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo, Guerrero
   #OrgullosamenteCETIS45`;

            console.log(comparisonText);
            if (typeof showNotification === 'function') {
                showNotification('ğŸ“Š Comparativa mostrada en consola\nğŸ¯ Sistema 125% mÃ¡s eficiente\nğŸ’° 58% menos papel\nğŸŒ± Eco-friendly\nğŸ« CETIS 45 Zihuatanejo', 'info', 5000);
            }
        };
        
        console.log('ğŸ« Sistema de Credenciales - CETIS No. 45 "JosÃ© MarÃ­a Izazaga" - Zihuatanejo');
    </script>
</body>
</html>